<?xml version="1.0"?>
<config>
    <modules>
        <Wyomind_Layer>
            <version>2.4.0</version>
        </Wyomind_Layer>
    </modules>
    <default>
        <layer>
            <license>
                  <label>Ajax Layer Pro</label>
                  <version>2.4.0</version>
                  <extension_code>alp</extension_code>
                  <get_online_license>1</get_online_license>
            </license>
            <general>
                <meta_robots><![CDATA[NOINDEX,FOLLOW]]></meta_robots>
                <enable_ajax>0</enable_ajax>
                <enable_auto_scroll>1</enable_auto_scroll>
                <enable_ajax_toolbar>0</enable_ajax_toolbar>
                <enable_seo>1</enable_seo>
                <replace_all_special_chars>1</replace_all_special_chars>
                <items_limit/>
                <category_block_position>left</category_block_position>
            </general>
            <price_slider>
                <enable>1</enable>
                <enable_price_inputs>1</enable_price_inputs>
            </price_slider>
            <category_tree>
                <enable>1</enable>
                <expand_tree>0</expand_tree>
                <recursion_level>3</recursion_level>
                <show_products_count>1</show_products_count>
                <only_include_in_menu>1</only_include_in_menu>
                <show_empty_categories>0</show_empty_categories>
            </category_tree>
            <attribute>
                <dropdown/>
                <label/>
            </attribute>
            <filter_positioning>
                <top/>
                <left/>
                <right/>
            </filter_positioning>
        </layer>
    </default>
    
    <global>
        <resources>
            <layer_setup>
                <setup>
                    <module>Wyomind_Layer</module>
                    <class>Mage_Catalog_Model_Resource_Setup</class>
                </setup>
            </layer_setup>
        </resources>
        <blocks>
            <layer>
                <class>Wyomind_Layer_Block</class>
            </layer>
            <page>
                <rewrite>
                    <html_pager>Wyomind_Layer_Block_Page_Html_Pager</html_pager>
                </rewrite>
            </page>
            <catalog>
                <rewrite>
                    <product_list_toolbar>Wyomind_Layer_Block_Catalog_Product_List_Toolbar</product_list_toolbar>
                    <layer_filter_price>Wyomind_Layer_Block_Catalog_Layer_Filter_Price</layer_filter_price>
                    <layer_filter_decimal>Wyomind_Layer_Block_Catalog_Layer_Filter_Decimal</layer_filter_decimal>
                    <layer_filter_category>Wyomind_Layer_Block_Catalog_Layer_Filter_Category</layer_filter_category>
                    <layer_view>Wyomind_Layer_Block_Catalog_Layer_View</layer_view>
                </rewrite>
            </catalog>
            <catalogsearch>
                <rewrite>
                    <layer>Wyomind_Layer_Block_Catalogsearch_Layer</layer>
                </rewrite>
            </catalogsearch>
            <configurableswatches>
                <rewrite>
                    <catalog_layer_state_swatch>Wyomind_Layer_Block_Catalog_Layer_State_Swatch</catalog_layer_state_swatch>
                </rewrite>
            </configurableswatches>
            <enterprise_search>
                <rewrite>
                    <catalog_layer_view>Wyomind_Layer_Block_Catalog_Layer_View</catalog_layer_view>
                </rewrite>
            </enterprise_search>
        </blocks>
        <helpers>
            <layer>
                <class>Wyomind_Layer_Helper</class>
            </layer>
        </helpers>
        <models>
            <layer>
                <class>Wyomind_Layer_Model</class>
                <resourceModel>layer_resource</resourceModel>
            </layer>
            <layer_resource>
                <class>Wyomind_Layer_Model_Resource</class>
            </layer_resource>
            <catalog>
                <rewrite>
                    <layer_filter_attribute>Wyomind_Layer_Model_Catalog_Layer_Filter_Attribute</layer_filter_attribute>
                    <layer_filter_category>Wyomind_Layer_Model_Catalog_Layer_Filter_Category</layer_filter_category>
                    <layer_filter_item>Wyomind_Layer_Model_Catalog_Layer_Filter_Item</layer_filter_item>
                    <layer_filter_price>Wyomind_Layer_Model_Catalog_Layer_Filter_Price</layer_filter_price>
                    <layer_filter_decimal>Wyomind_Layer_Model_Catalog_Layer_Filter_Decimal</layer_filter_decimal>
                </rewrite>
            </catalog>
            <catalog_resource>
                <rewrite>
                    <layer_filter_attribute>Wyomind_Layer_Model_Resource_Catalog_Layer_Filter_Attribute</layer_filter_attribute>
                </rewrite>
            </catalog_resource>
            <catalogsearch>
                <rewrite>
                    <layer_filter_attribute>Wyomind_Layer_Model_CatalogSearch_Layer_Filter_Attribute</layer_filter_attribute>
                </rewrite>
            </catalogsearch>
        </models>
        <events>
            <catalog_entity_attribute_save_after>
                <observers>
                    <layer>
                        <class>Wyomind_Layer_Model_Observer</class>
                        <method>onAttributeSaveAfter</method>
                    </layer>
                </observers>
            </catalog_entity_attribute_save_after>
        </events>
    </global>
    <frontend>
        <layout>
            <updates>
                <layer>
                    <file>wyomind/layer.xml</file>
                </layer>
            </updates>
        </layout>
        <events>
            <core_block_abstract_to_html_before>
                <observers>
                    <layer>
                        <class>layer/observer</class>
                        <method>onCoreBlockToHtmlBefore</method>
                    </layer>
                </observers>
            </core_block_abstract_to_html_before>
            <core_block_abstract_to_html_after>
                <observers>
                    <layer>
                        <class>layer/observer</class>
                        <method>onCoreBlockToHtmlAfter</method>
                    </layer>
                </observers>
            </core_block_abstract_to_html_after>
            <controller_action_layout_render_before_catalog_category_view>
                <observers>
                    <layer>
                        <class>layer/observer</class>
                        <method>handleAjaxLayer</method>
                    </layer>
                </observers>
            </controller_action_layout_render_before_catalog_category_view>
            <controller_action_layout_render_before_catalogsearch_result_index>
                <observers>
                    <layer>
                        <class>layer/observer</class>
                        <method>handleAjaxLayer</method>
                    </layer>
                </observers>
            </controller_action_layout_render_before_catalogsearch_result_index>
            <catalog_product_collection_apply_limitations_after>
                <observers>
                    <layer>
                        <class>layer/observer</class>
                        <method>onProductCollectionApplyLimitationsAfter</method>
                    </layer>
                </observers>
            </catalog_product_collection_apply_limitations_after>
        </events>
    </frontend>
</config>